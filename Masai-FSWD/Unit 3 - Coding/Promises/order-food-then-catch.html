<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Promises with then and catch</title>
  </head>
  <body>
    <select name="food" id="food">
      <option value="Burger">Burger</option>
      <option value="Pizza">Pizza</option>
      <option value="Fries">Fries</option>
      <option value="Cola">Cola</option>
    </select>
    <button onclick="order()">Order</button>
  </body>
</html>

<script>
  let open = true;

  function order() {
    var order = document.querySelector("#food").value;
    let food_promise = new Promise(function (resolve, reject) {
      setTimeout(function () {
        if (open == true) resolve(`${order} is ready!`);
        else reject(`Store is closed, you twat!`);
      }, 5000);
    });

    // Using .then and .catch with promises
    food_promise.then(function (status) {
      console.log(status);
    });

    food_promise.catch(function (err) {
      console.log(err);
    });
  }
</script>
